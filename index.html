<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta name="description" content="畅享海鲜店">
		<meta name="keywords" content="畅享海鲜店">
		<link href="https://cdn.bootcss.com/twitter-bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
		<script src="https://cdn.bootcss.com/jquery/3.5.0/jquery.min.js"></script>
		<script src="https://cdn.bootcss.com/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
		<script src="https://cdn.bootcdn.net/ajax/libs/ionicons/5.0.1/ionicons.min.js"></script>
		<title>畅享海鲜店</title>
		<style>
			img{
				object-fit: cover;
				width: 100%;
			}
			.card img{
				object-fit: cover;
				width: 100%;
				height: 200px;
			}
			@font-face{
			    font-family: arial;
			    src: url(./fonts/arial.ttf);
			}
			@font-face{
			    font-family: arial Bold;
			    src: url(./fonts/arialbd.ttf);
			}
			.card-body{
				color: #F40;
				font-family: arial;
			}
			.card{
				cursor: pointer;
				margin-top: 20px;
				margin-bottom: 20px;
				box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);
				-moz-box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);
				-webkit-box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);
				border-radius: 4px;
				border: 1px solid #ebeef5;
				transition: all .3s linear;
				-webkit-transition: all .3s linear;
				-moz-transition: all .3s linear;
			}
			.card:hover{
				transform: translateY(-10px);
			}
			.card-header{
				background-color: #ffffff;
				color: #333333;
				font-size: 14px;
				border-bottom: 1px solid #ebeef5;
			}
			.card-title{
				font-size: 14px;
			}
			[class*="col-"]{
				padding-right: 5px;
				padding-left: 5px;
			}
			.touch-none{
				-webkit-touch-callout: none;
				-webkit-user-select: none;
				-khtml-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}
			.hide-scrollbar {
				overflow: hidden;
			}
			#picture-curtain{
				text-align: center;
				position: fixed;
				z-index: 1000;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-color: #000;
				opacity: 1;
				overflow: hidden;
				display: none;
			}
			.slick-animation{
				transition: all .3s ease-in-out;
				-webkit-transition: all .3s ease-in-out;
				-moz-transition: all .3s ease-in-out;
			}
			#picture-curtain .slick-slide{
				position: relative;
				float: left;
				width: 100vw;
				height: 100vh;
			}
			.slick-slide .landscape{
				position: absolute;
				margin: auto;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
			}
			.img-btn{
				display: none;
				position: fixed;
				z-index: 1001;
				cursor: pointer;
			}
			#img-header{
				cursor: auto;
				position: fixed;
				padding-top: 10px;
				padding-left: 10px;
				width: 80vw;
				color: #FFF;
				opacity: 0.8;
				z-index: 1002;
			}
			#img-back{
				color: #FFF;
				width: 50vw;
				height: 100vh;
				left: 0;
			}
			#img-back .icon{
				padding-left: 1vw;
				position: absolute;
				top: 50%;
				transform: translateY(-50%);
			}
			#img-forward{
				color: #FFF;
				width: 50vw;
				height: 100vh;
				right: 0;
			}
			#img-forward .icon{
				padding-right: 1vw;
				position: absolute;
				top: 50%;
				right: 0;
				transform: translateY(-50%);
			}
			#img-close{
				color: #FFF;
				padding: 10px;
				right: 0;
			}
		</style>
		<script>
			var supplies=[
				{'name': '鲍鱼', 'price': '30元/斤 8~9头', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%B2%8D%E9%B1%BC.jpg'
					],
				},{'name': '白昌', 'price': '22元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%99%BD%E6%98%8C.png'
					],
				},
				{'name': '虾', 'price': '40元/斤 约25头', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%8D%97%E7%BE%8E%E7%99%BD%E5%AF%B9%E8%99%BE.jpg',
					],
				},
				{'name': '龙利', 'price': '35元/斤 2~3条1斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%BE%99%E5%88%A9.jpg',
					],
				},
				{'name': '金昌鱼', 'price': '28元/斤 1条约1.3斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%87%91%E6%98%8C%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%87%91%E6%98%8C%E9%B1%BC%20%E8%8F%9C%E5%93%81.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%A6%99%E7%85%8E%E9%87%91%E6%98%8C%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E6%B8%85%E8%92%B8%E9%87%91%E6%98%8C%E9%B1%BC.jpg'
					],
				},
				{'name': '黄花鱼', 'price': '25元/斤 1条约1.6斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%BB%84%E8%8A%B1%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E6%B8%85%E8%92%B8%E9%BB%84%E8%8A%B1%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%83%A4%E9%BB%84%E8%8A%B1%E9%B1%BC.jpg'
					],
				},
				{'name': '带鱼', 'price': '32元/斤 1条约2.5斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%B8%A6%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%A6%99%E7%85%8E%E5%B8%A6%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%B8%A6%E9%B1%BC%20%E8%8F%9C%E5%93%81.jpg'
					],
				},
				{'name': '马胶鱼', 'price': '35元/斤 1条6~8斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%A9%AC%E8%83%B6%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%A9%AC%E8%83%B6%E9%B1%BC%20%E9%A6%99%E7%85%8E.jpg'
					],
				},
				{'name': '石斑鱼', 'price': '小28元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%B0%8F%E7%9F%B3%E6%96%91%E9%B1%BC.jpg'
					],
				},
				{'name': '金丝鱼', 'price': '42元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%87%91%E4%B8%9D%E9%B1%BC.jpg'
					],
				},
				{'name': '马头鱼', 'price': '大35元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%A9%AC%E5%A4%B4%E9%B1%BC.jpg'
					],
				},
				{'name': '拔泥公', 'price': '18元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E6%8B%94%E6%B3%A5%E5%85%AC.jpg'
					],
				},
				{'name': '大眼鸡', 'price': '无货', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%A4%A7%E7%9C%BC%E9%B8%A1.jpg'
					],
				},
				{'name': '红衫', 'price': '16元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%BA%A2%E8%A1%AB.jpg'
					],
				},
				{'name': '鱿鱼', 'price': '中45元/斤 小30元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E4%B8%AD%E9%B1%BF%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%B0%8F%E9%B1%BF%E9%B1%BC.jpg'
					],
				},
				{'name': '章鱼', 'price': '45元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%B0%8F%E7%AB%A0%E9%B1%BC.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%AB%A0%E9%B1%BC%20%E8%8F%9C%E5%93%81.jpg'
					],
				},
				{'name': '皮皮虾', 'price': '未知价格', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%9A%AE%E7%9A%AE%E8%99%BE.jpg'
					],
				},
				{'name': '三眼蟹', 'price': '未知价格', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E4%B8%89%E7%9C%BC%E8%9F%B9.jpg'
					],
				},
				{'name': '花蟹', 'price': '未知价格', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E8%8A%B1%E8%9F%B9.jpg'
					],
				},
				{'name': '肉蟹', 'price': '未知价格', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E8%82%89%E8%9F%B9.jpg'
					],
				},
				{'name': '黄翅鱼', 'price': '27元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%BB%84%E7%BF%85%E9%B1%BC.png',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%BB%84%E7%BF%85%E9%B1%BC%202.jpg'
					],
				},
				{'name': '小海沙尖', 'price': '27元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E6%B2%99%E5%B0%96.jpg'
					],
				},
				{'name': '生蚝', 'price': '大7元/斤 中5元/斤 小3元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E4%B8%AD%E7%94%9F%E8%9A%9D%201.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E4%B8%AD%E7%94%9F%E8%9A%9D%202.jpg'
					],
				},
				{'name': '黄花鱼胶', 'price': '30头788元 40头688元 60头658元 100头608元', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%BB%84%E8%8A%B1%E9%B1%BC%E8%83%B6.jpg'
					],
				},
				{'name': '石斑鱼胶', 'price': '340元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%9F%B3%E6%96%91%E9%B1%BC%E8%83%B6.jpg'
					],
				},
				{'name': '瑶柱', 'price': '350头115元 400头110元 500头105元', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%91%B6%E6%9F%B1.jpg'
					],
				},
				{'name': '鱿鱼丝', 'price': '16元/包', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%B1%BF%E9%B1%BC%E4%B8%9D.jpg'
					],
				},
				{'name': '鱿鱼仔', 'price': '28元/大包', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%A2%B3%E7%83%A4%E9%B1%BF%E9%B1%BC%E4%BB%94.jpg'
					],
				},
				{'name': '虾皮', 'price': '28元/斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E8%99%BE%E7%9A%AE.jpg'
					],
				},
				{'name': '虾仁', 'price': '20元/半斤', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E8%99%BE%E4%BB%81.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E8%99%BE%E4%BB%81%20%E8%8F%9C%E5%93%81%201.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E8%99%BE%E4%BB%81%20%E8%8F%9C%E5%93%81%202.jpg'
					],
				},
				{'name': '海苔', 'price': '9元/盒', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E6%B5%B7%E8%8B%94%201.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E6%B5%B7%E8%8B%94%202.jpg'
					],
				},
				{'name': '墨鱼滑 马胶滑 虾滑', 'price': '墨鱼滑31元 马胶滑33元 虾滑31元', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E8%99%BE%E6%BB%91.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%A2%A8%E9%B1%BC%E6%BB%91.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%A2%A8%E9%B1%BC%E6%BB%91%20%E8%8F%9C%E5%93%81.jpg'
					],
				},
				{'name': '黄金虾饼 手打墨鱼饼', 'price': '黄金虾饼21元 手打墨鱼饼19元', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%B1%BC%E4%B8%B8%20%E9%B1%BC%E9%A5%BC%201.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%B1%BC%E4%B8%B8%20%E9%B1%BC%E9%A5%BC%202.jpg',
					],
				},
				{'name': '黄金鱼丸 马胶鱼丸 墨鱼丸 七彩丸 墨鱼汁丸 蟹柳丸 虾丸 章鱼丸', 'price': '黄金鱼丸18元 马胶鱼丸18元 墨鱼丸19元 七彩丸23元 墨鱼汁丸21元 蟹柳丸21元 虾丸21元 章鱼丸24元', 'imgs': [
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%B1%BC%E4%B8%B8%20%E9%B1%BC%E9%A5%BC%201.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E9%B1%BC%E4%B8%B8%20%E9%B1%BC%E9%A5%BC%202.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%A2%A8%E9%B1%BC%E4%B8%B8.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E4%B8%83%E5%BD%A9%E4%B8%B8.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E5%A2%A8%E9%B1%BC%E6%B1%81%E4%B8%B8.jpg',
					'https://commodity-1256424525.cos.ap-guangzhou.myqcloud.com/%E7%AB%A0%E9%B1%BC%E4%B8%B8.jpg'
					],
				}
			]
		</script>
	</head>
	<body>
		<div id="picture-curtain" class="touch-none"><div class="slick-track slick-animation" style="transform: translate3d(0vw, 0, 0);" data-index="0"></div></div>
		<div id="img-header" class="img-btn">
			<span class="name"></span>
			<span class="index"></span>
		</div>
		<div id="img-back" class="img-btn"><ion-icon class="icon" name="chevron-back-outline" size="large"></ion-icon></div>
		<div id="img-forward" class="img-btn"><ion-icon class="icon" name="chevron-forward-outline" size="large"></ion-icon></div>
		<div id="img-close" class="img-btn"><ion-icon class="icon" name="close" size="large"></ion-icon></div>
		<div class="alert alert-primary" role="alert">
			微信手机同号：<a href="tel:18566499000">18566499000</a>
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="container-fluid">
			<div id="content" class="row" style="margin: 0px;"></div>
		</div>
		<script>
			var defaultImg = 'https://logo-1256424525.cos.ap-hongkong.myqcloud.com/%E6%9A%82%E6%97%A0%E5%9B%BE%E7%89%87.png';
			$.each(supplies, function(index, value){
				var name = value['name'];
				var price = value['price'];
				var imgs = value['imgs'][0]===undefined?defaultImg: value['imgs'][0];
				$('#content').append('<div class="col-xl-2 col-lg-3 col-sm-6 col-6"><div class="card" data-id="'+index+'"><div class="card-header">'+name+'</div><img class="rounded" src="'+imgs+'" alt="'+name+'" /><div class="card-body"><h5 class="card-title"><span></span><span class="price">'+price+'</span></h5></div></div></div>')
			});
			var pictureCurtain = $('#picture-curtain');
			var slickTrack = pictureCurtain.find('.slick-track');
			var eleImgs = new Array();
			function Percentage(num, total) {
				return num == 0 || total == 0 ? 0 : (Math.round(num / total * 10000) / 100.00)
			}
			function imgShow(src, eleIndex) {
				$('#img-header .index').text((eleIndex+1) + '/' + eleImgs.length);
				if (window.matchMedia("(max-aspect-ratio:7/10)").matches) {
					var maxWidth = 96;
					var maxHeight = 86.2;
					$('#img-back,#img-forward').hide();
					$('#img-header').show();
					$('#img-close').show();
				}else{
					var maxWidth = 83.33;
					var maxHeight = 88.88;
					$('.img-btn').show();
				}
				$('body').addClass('hide-scrollbar');
				slickTrack.html('');
				slickTrack.css('width', eleImgs.length + '00vw');
				$.each(eleImgs, function(index, img){
					slickTrack.append('<div class="slick-slide"><div class="landscape" data-slick-index="'+index+'" style="background: url('+img+') center center / contain no-repeat;"></div></div>');
					if(eleIndex === index){
						var pre = index == 0? 0 : index-1;
						var next = index >= eleImgs.length-1?eleImgs.length-1 : index+1;
						$('#img-back').data('src', pre);
						$('#img-forward').data('src', next);
						slickTrack.data('index', eleIndex);
					}
				})
				slickTrack.find('.landscape').css({'width': maxWidth + 'vw', 'height': maxHeight + 'vh'});
				pictureCurtain.show().fadeIn("fast");
				$(window).off('keydown');
				$(window).keydown(function(e){
					if(e.keyCode===37){
						$('#img-back').click();
					}else if(e.keyCode===39){
						$('#img-forward').click();
					}else if(e.keyCode===27){
						$('#img-close').click();
					}
				})
			}
			pictureCurtain.on('mousedown touchstart', function(e){
				var distenceX = e.pageX==undefined?e.originalEvent.targetTouches[0].pageX: e.pageX;
				var wWidth = $(window).width();
				var thisIndex = slickTrack.data('index');
				var x = 0;
				var xAbs = 0;
				slickTrack.removeClass('slick-animation');
				pictureCurtain.on('mousemove touchmove', function(e){
					var pageX = e.pageX==undefined?e.originalEvent.targetTouches[0].pageX: e.pageX;
					x = pageX - distenceX;
					xAbs = Percentage(Math.abs(x), wWidth);
					if(x>0){
						var translate = parseInt(thisIndex + '00') - xAbs;
					}else if(x<0){
						var translate = parseInt(thisIndex + '00') + xAbs;
					}
					slickTrack.css("transform","translate3d(-" + parseInt(translate) + "vw,0,0)");
				});
				pictureCurtain.on('mouseup touchend', function(){
					pictureCurtain.off('mousemove touchmove mouseup touchend');
					slickTrack.addClass('slick-animation');
					if(xAbs<=10){
						slickTrack.css("transform","translate3d(-" + thisIndex + "00vw,0,0)");
					}else if(x>0){
						$('#img-back').click();
					}else if(x<0){
						$('#img-forward').click();
					}
				});
			});
			function PicturePreview(){
				$('.card').click(function(){
					$('#img-header .name').text($(this).find('.card-header').text());
					eleImgs = supplies[$(this).data('id')]['imgs'];
					imgShow(eleImgs[0], 0);
					slickTrack.css("transform","translate3d(0vw,0,0)");
				});
				$('#img-back').click(function(){
					imgShow(eleImgs[$(this).data("src")], $(this).data("src"));
					slickTrack.css("transform","translate3d(-" + $(this).data("src") + "00vw,0,0)");
				});
				$('#img-forward').click(function(){
					imgShow(eleImgs[$(this).data("src")], $(this).data("src"));
					slickTrack.css("transform","translate3d(-" + $(this).data("src") + "00vw,0,0)");
				});
				$("#img-close").click(function() {
					$('.img-btn').hide();
					$(window).off('keydown');
					pictureCurtain.fadeOut("fast");
					$('body').removeClass('hide-scrollbar');
				});
			}
			$(document).ready(function(){
				PicturePreview();
				// 数据都保存在 supplies 里，到时由ajax获取这个变量
				// $.ajax({
				// 	url:'http://127.0.0.1:5555/project/json',
				// 	type: "GET",
				// 	dataType: "jsonp",
				// 	jsonp: "callback",
				// 	jsonpCallback: "successCallback", //这里的值需要和回调函数名一样
				// 	success:function(data){
				// 		console.log(data);
				// 	},
				// 	error:function (textStatus){ //请求失败后调用的函数
				// 		console.log(JSON.stringify(textStatus));
				// 	}
				// });
			})
		</script>
		<div class="w-100" align="right" style="visibility: hidden;">
			<script type="text/javascript" src="https://s4.cnzz.com/z_stat.php?id=1278874207&web_id=1278874207"></script>
		</div>
	</body>
</html>
